import { Injectable } from '@angular/core';
import { Observable, of } from 'rxjs';
import { delay } from 'rxjs/operators';
import { Personnel } from '../models/personnel.model';

@Injectable({
  providedIn: 'root'
})
export class PersonnelService {
  private mockPersonnelData: Personnel[] = [
    { 
      id: 101, 
      firstName: 'Ahmet', 
      lastName: 'Yılmaz', 
      tckimlik: '12345678901',   // ekledik
      dogumtarihi: '1990-03-15', // ekledik
      telno: '05551234567',       // ekledik
      email: 'ahmet.yilmaz@example.com', 
      position: 'Yazılım Geliştirici', 
      department: 'IT', 
      startDate: '2023-05-15', 
      totalLeave: 20, 
      usedLeave: 5, 
      workingStatus: 'Çalışıyor', 
      personnelphoto: 'https://img.memurlar.net/galeri/4599/2cc5bb86-a578-e311-a7bb-14feb5cc13c9.jpg?width=800',

    },
    { 
      id: 102, 
      firstName: 'Ayşe', 
      lastName: 'Kaya', 
      tckimlik: '10987654321', 
      dogumtarihi: '1988-07-20', 
      telno: '05559876543',
      email: 'ayse.kaya@example.com', 
      position: 'Proje Yöneticisi', 
      department: 'Yönetim', 
      startDate: '2022-01-20', 
      totalLeave: 25, 
      usedLeave: 10, 
      workingStatus: 'İzinli', 
      personnelphoto: 'data:image/jpeg;base64,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',

    }
  ];

  getPersonnelList(): Observable<Personnel[]> {
    return of(this.mockPersonnelData).pipe(delay(500));
  }

  addPersonnel(person: Personnel) {
    person.id = this.mockPersonnelData.length ? Math.max(...this.mockPersonnelData.map(p => p.id)) + 1 : 101;
    this.mockPersonnelData.push(person);
  }

  deletePersonnel(id: number) {
    this.mockPersonnelData = this.mockPersonnelData.filter(p => p.id !== id);
  }
}
